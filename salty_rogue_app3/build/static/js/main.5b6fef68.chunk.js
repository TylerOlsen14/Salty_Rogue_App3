(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){},32:function(e,t,n){e.exports=n.p+"static/media/logo.52b14cf9.jpg"},35:function(e,t,n){e.exports=n(70)},40:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(31),o=n.n(c),r=(n(40),n(6)),i=n(7),s=n(9),m=n(8),u=n(10),h=n(13),p=n(11),d=n(32),b=n.n(d),v=(n(24),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar"},l.a.createElement("a",{href:"/",class:"nav-link"},l.a.createElement("img",{src:b.a,alt:"Salt Rogue Real Estate"})),l.a.createElement("ul",null,l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",null,l.a.createElement("a",{href:"/",class:"nav-link"},"Phone Call List"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",null,l.a.createElement("a",{href:"/CreatePhoneRecord",class:"nav-link"},"New Call Record")))))))}}]),t}(a.Component)),f=n(15),E=n(16),g=n.n(E),C="mongodb://Tucker:Tucker@cluster0-shard-00-00-tihhu.mongodb.net:27017,cluster0-shard-00-01-tihhu.mongodb.net:27017,cluster0-shard-00-02-tihhu.mongodb.net:27017/ReactPhoneRecords?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin&retryWrites=true",_=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={client_name:"",client_phonenumber:"",client_conversation:"",client_postcard:!1,fireRedirect:!1},n.handleSubmit=function(e){e.preventDefault();var t={client_name:n.state.client_name,client_phonenumber:n.state.client_phonenumber,client_conversation:n.state.client_conversation,client_postcard:n.state.client_postcard};console.log(t),console.log("Form submitted:"),console.log("Client name: ".concat(n.state.client_name)),console.log("Client Phone Number: ".concat(n.state.client_phonenumber)),console.log("Client Postcard: ".concat(n.state.client_conversation)),g.a.post(C,t).then(function(e){return console.log(e.data)}),n.setState({client_name:"",client_phonenumber:"",client_conversation:"",client_postcard:!1,fireRedirect:!0})},n.onChangeClientName=function(e){console.log(e.target.value),n.setState(Object(f.a)({},e.target.name,e.target.value))},n.onChangeClientPhoneNumber=function(e){console.log(e.target.value),n.setState(Object(f.a)({},e.target.name,e.target.value))},n.onChangeClientConversation=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.onChangeClientPostcard=function(e){console.log(e.target),n.setState(Object(f.a)({},e.target.name,e.target.value))},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){(this.props.location.state||"/").from;var e=this.state.fireRedirect;return l.a.createElement("div",{className:"form-group"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Client Name:"),l.a.createElement("input",{type:"text",class:"form-control",placeholder:"Client Name",name:"client_name",onChange:this.onChangeClientName})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Client Phone Number:"),l.a.createElement("input",{type:"text",class:"form-control",placeholder:"Client Phone Number",name:"client_phonenumber",onChange:this.onChangeClientPhoneNumber})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Conversation: "),l.a.createElement("textarea",{class:"form-control",placeholder:"Details about the conversation",name:"client_conversation",onChange:this.onChangeClientConversation})),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("div",{class:"input-group-text",onChange:this.onChangeClientPostcard,name:"client_postcard"},l.a.createElement("label",null,"PostCard sent to client?"),"Yes ",l.a.createElement("input",{type:"radio",name:"client_postcard",value:"true"}),"No ",l.a.createElement("input",{type:"radio",name:"client_postcard",value:"false"})))),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"Submit"})),e&&l.a.createElement(p.a,{to:"/"})))}}]),t}(a.Component),N=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.client.client_name),l.a.createElement("td",null,e.client.client_phonenumber),l.a.createElement("td",null,e.client.client_conversation),l.a.createElement("td",null,e.client.client_postcard),l.a.createElement("td",null,l.a.createElement(h.b,{to:"./EditPhoneRecord/"+e.client._id},"Edit")))},O=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={clients:[]},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:4000/clients/").then(function(t){e.setState({clients:t.data})}).catch(function(e){console.log(e)})}},{key:"clientList",value:function(){return this.state.clients.map(function(e,t){return l.a.createElement(N,{client:e,key:t})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Client List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Client Name: "),l.a.createElement("th",null,"Client PhoneNumber: "),l.a.createElement("th",null,"Conversation summary: "),l.a.createElement("th",null,"Postcard? "))),l.a.createElement("tbody",null,this.clientList())))}}]),t}(a.Component),y=n(12),j=n.n(y),P=n(17),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=Object(P.a)(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.id,console.log(t),console.log("http://localhost:4000/clients/".concat(t)),e.next=5,fetch("http://localhost:4000/clients/".concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({UpdatedPhoneRecord:e}),n.setState({PhoneRecordOriginal:e}),n.setState({client_name:e.client_name}),n.setState({client_phonenumber:e.client_phonenumber}),n.setState({client_conversation:e.client_conversation}),n.setState({client_postcard:e.client_postcard}),console.log(e)});case 5:case"end":return e.stop()}},e)})),n.handleSubmit=function(){var e=Object(P.a)(j.a.mark(function e(t){var a,l,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.props.match.params.id,l={client_name:n.state.client_name,client_phonenumber:n.state.client_phonenumber,client_conversation:n.state.client_conversation,client_postcard:n.state.client_postcard},c=JSON.stringify(l),console.log(c),console.log("Fetch",a),e.next=8,fetch("http://localhost:4000/clients/".concat(a),{method:"PUT",body:c,headers:{"Content-Type":"application/json"}});case 8:console.log(c),n.props.history.push("/");case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleDelete=function(){var e=Object(P.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),t.preventDefault(),a=n.props.match.params.id,console.log(a),e.next=6,fetch("http://localhost:4000/clients/".concat(a),{method:"DELETE"});case 6:n.props.history.push("/");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={pathname:n.props.location.pathname,UpdatedPhoneRecord:[],PhoneRecordOriginal:[],client_name:[],client_phonenumber:[],client_conversation:[],client_postcard:[]},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h3",{align:"center"},"Update Call Record"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name: "),l.a.createElement("textarea",{type:"text",className:"form-control",name:"Client_Name",value:this.state.client_name,placeholder:this.state.PhoneRecordOriginal.client_name,onChange:function(t){return e.setState({client_name:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"PhoneNumber: "),l.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.client_phonenumber,placeholder:this.state.PhoneRecordOriginal.client_phonenumber,name:"Client_PhoneNumber",onChange:function(t){return e.setState({client_phonenumber:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Conversation: "),l.a.createElement("textarea",{type:"text",className:"form-control",value:this.state.client_conversation,placeholder:this.state.PhoneRecordOriginal.client_conversation,name:"Client_Conversation",onChange:function(t){return e.setState({client_conversation:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"PostCard sent to client?"),l.a.createElement("select",{name:"PostCard",id:"PostCard",className:"form-control",value:this.state.UpdatedPhoneRecord.PostCard,onChange:this.handleChange,placeholder:"PostCard"},l.a.createElement("option",{value:"true"},"Yes"),l.a.createElement("option",{value:"false"},"No"))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",value:"UpdatePhoneRecord",className:"btn btn-primary",name:"submit",id:"submit",onClick:this.handleSubmit},"Submit"),l.a.createElement("button",{type:"submit",value:"DeletePhoneRecord",className:"btn btn-danger",name:"delete",id:"delete",onClick:this.handleDelete},"Delete")))))}}]),t}(a.Component),R=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(v,null),l.a.createElement(p.b,{exact:!0,path:"/",component:O}),l.a.createElement(p.b,{path:"/EditPhoneRecord/:id",component:S}),l.a.createElement(p.b,{path:"/CreatePhoneRecord",component:_})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.5b6fef68.chunk.js.map